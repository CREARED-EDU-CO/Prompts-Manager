/*
 * Este archivo es parte del proyecto Prompts-Manager.
 *
 * Copyright (C) 2025 CREARED.EDU.CO
 *
 * Este programa es software libre: puedes redistribuirlo y/o modificarlo 
 * bajo los términos de la Licencia Pública General Affero de GNU publicada 
 * por la Free Software Foundation, ya sea la versión 3 de la Licencia, 
 * o (a tu elección) cualquier versión posterior.
 *
 * Este programa se distribuye con la esperanza de que sea útil, 
 * pero SIN NINGUNA GARANTÍA; sin incluso la garantía implícita de 
 * COMERCIABILIDAD o IDONEIDAD PARA UN PROPÓSITO PARTICULAR. 
 * Consulta la Licencia Pública General Affero de GNU para más detalles.
 *
 * Deberías haber recibido una copia de la Licencia Pública General Affero de GNU 
 * junto con este programa. En caso contrario, consulta <https://www.gnu.org/licenses/why-affero-gpl.html>.
 */

<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Prompt Manager</title>
  <link rel="stylesheet" href="css/variables.css">
  <link rel="stylesheet" href="css/utilities.css">
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/layout.css">
  <link rel="stylesheet" href="css/forms.css">
  <link rel="stylesheet" href="css/components.css">
  <link rel="stylesheet" href="css/modals.css">
  <link rel="stylesheet" href="css/responsive.css">
  <link rel="stylesheet" href="css/dark-mode.css">
</head>

<body>
  <main>
    <form id="prompt-form">
      <label for="prompt-input" class="visually-hidden" data-i18n="ui.newPromptLabel"></label>
      <textarea id="prompt-input" class="prompt-input" data-i18n-placeholder="ui.newPromptPlaceholder"
        placeholder="Escribe un nuevo prompt..." required></textarea>
      <div id="prompt-msg"></div>
      <div class="prompt-form-row">
        <label for="tags-input" class="visually-hidden" data-i18n="ui.tagsLabel"></label>
        <input type="text" id="tags-input" class="tags-input form-input-text" data-i18n-placeholder="ui.tagsPlaceholder"
          placeholder="Etiquetas (separadas por coma)">
        <label for="folder-select" class="visually-hidden" data-i18n="ui.selectFolderLabel"></label>
        <select id="folder-select" class="folder-select form-input-text">
          <option value="" disabled selected data-i18n="ui.selectFolderOption"></option>
        </select>
        <button type="submit" class="btn btn-primary add-btn" data-i18n="ui.add"></button>
      </div>
    </form>

    <section id="folders-section" class="main-content-section">
      <form id="folder-form">
        <label for="folder-input" class="visually-hidden" data-i18n="ui.newFolderLabel"></label>
        <input type="text" id="folder-input" class="form-input-text" data-i18n-placeholder="ui.newFolderPlaceholder"
          required>
        <button type="submit" class="btn btn-primary" data-i18n="ui.createFolder"></button>
        <span id="total-prompts-count" class="prompt-count"></span>
      </form>
      <div id="folders-list"></div>
    </section>

    <section id="filters" class="filters-section">
      <div class="filters-search-row">
        <label for="search-input" class="visually-hidden" data-i18n="ui.searchLabel"></label>
        <input type="text" id="search-input" class="search-input" data-i18n-placeholder="ui.searchPlaceholder">
        <button type="button" class="btn btn-primary" id="clear-filters-btn" data-i18n="ui.clearFilters"></button>
      </div>
      <div class="filters-row">
        <label for="tag-filter" class="visually-hidden" data-i18n="ui.filterByTag"></label>
        <select id="tag-filter" class="tag-filter form-input-text">
          <option value="" data-i18n="ui.allTags"></option>
        </select>
        <label for="folder-filter" class="visually-hidden" data-i18n="ui.filterByFolder"></label>
        <select id="folder-filter" class="folder-filter form-input-text">
          <option value="" data-i18n="ui.allFolders"></option>
        </select>
        <label for="order-filter" class="visually-hidden" data-i18n="ui.orderBy"></label>
        <select id="order-filter" class="order-filter form-input-text">
          <option value="" data-i18n="ui.orderByCreated"></option>
          <option value="updatedAt" data-i18n="ui.orderByEdited"></option>
          <option value="usage" data-i18n="ui.orderByUsage"></option>
        </select>
        <label for="fav-filter"><input type="checkbox" id="fav-filter"> <span
            data-i18n="ui.onlyFavorites"></span></label>
      </div>
    </section>

    <section id="import-export-section" class="main-content-section">
      <div class="import-export-info" data-i18n="ui.exportInfo"></div>
      <button id="export-json-btn" class="btn btn-primary" data-i18n="ui.export"></button>
      <input type="file" id="import-json-input" accept="application/json" style="display:none">
      <button id="import-json-btn" class="btn btn-primary" data-i18n="ui.import"></button>
      <button id="delete-all-prompts-btn" class="btn btn-danger delete-btn" data-i18n="ui.deleteAll"></button>
      <span id="import-msg"></span>
      <span id="export-reminder" class="export-reminder"></span>
    </section>

    <section id="import-choice-panel" class="import-choice-panel modal-content-base" style="display:none;" role="dialog"
      aria-modal="true" aria-labelledby="import-choice-msg" tabindex="-1">
      <div class="modal-msg" id="import-choice-msg" data-i18n="ui.importChoiceMsg"></div>
      <div class="modal-actions">
        <button class="btn btn-primary accept-btn" id="import-choice-replace" aria-label="Reemplazar"
          data-i18n="ui.replace"></button>
        <button class="btn btn-merge accept-btn" id="import-choice-merge" aria-label="Fusionar"
          data-i18n="ui.merge"></button>
        <button class="btn btn-secondary cancel-btn" id="import-choice-cancel" aria-label="Cancelar"
          data-i18n="ui.cancel"></button>
      </div>
    </section>

    <section id="prompt-container" class="main-content-section">
    </section>

    <!-- Nueva sección unificada de paginación -->
    <section id="pagination-section" class="pagination-section">
      <div id="pagination-container"></div>
      <div id="per-page-container"></div>
    </section>

    <section id="configuration" class="configuration">
      <div class="config-item dark-mode-switch">
        <label for="dark-mode-toggle">
          <span class="switch">
            <input type="checkbox" id="dark-mode-toggle">
            <span class="slider"></span>
          </span>
          <span data-i18n="ui.darkMode"></span>
        </label>
      </div>
      <div class="config-item" id="language-switcher-container">
        <label for="language-select" class="config-label" data-i18n="ui.language"></label>
        <select id="language-select" class="config-select">
          <option value="es">Español</option>
          <option value="en">English</option>
        </select>
      </div>
      <!-- Los selectores de configuración se insertarán aquí -->
    </section>
  </main>

  <div id="confirm-modal" role="dialog" aria-modal="true" aria-labelledby="confirm-modal-msg" tabindex="-1">
    <div class="modal-box modal-content-base">
      <div class="modal-msg" id="confirm-modal-msg"></div>
      <div class="modal-actions">
        <button class="btn btn-primary accept-btn" id="confirm-modal-accept" data-i18n="ui.accept">Aceptar</button>
        <button class="btn btn-secondary cancel-btn" id="confirm-modal-cancel" data-i18n="ui.cancel">Cancelar</button>
      </div>
    </div>
  </div>

  <div id="toast" class="toast"></div>

  <script src="js/constants.js"></script>
  <script src="js/eventBus.js"></script>
  <script src="js/performance.js"></script>
  <script src="js/i18n.js"></script>
  <script src="js/promptsModel.js"></script>
  <script src="js/foldersModel.js"></script>
  <script src="js/storage.js"></script>
  <script src="js/domUtils.js"></script>
  <script src="js/view.js"></script>
  <script src="js/utils.js"></script>
  <script src="js/controllers/paginationController.js"></script>
  <script src="js/controllers/filtersController.js"></script>
  <script src="js/controllers/promptFormController.js"></script>
  <script src="js/controllers/promptContainerController.js"></script>
  <script src="js/controllers/foldersController.js"></script>
  <script src="js/controllers/importExportController.js"></script>
  <script src="js/controller.js"></script>
  <script src="js/app.js"></script>
</body>

</html>
